
<div metal:define-macro="urbanMapCSS" tal:define="pylonsHost context/portal_url/portal_urban/getPylonsHost">
   <link rel="stylesheet" type="text/css" href="https://urbanmap.lescommunes.be/lib/ext/Ext/resources/css/ext-all.css"/>
   <link rel="stylesheet" type="text/css" href="https://urbanmap.lescommunes.be/lib/ext/Ext/resources/css/xtheme-gray.css"/>
   <link rel="stylesheet" type="text/css" href="https://urbanmap.lescommunes.be/lib/openlayers/theme/default/style.css"/>
   <link rel="stylesheet" type="text/css" href="https://urbanmap.lescommunes.be/lib/ext/Ext/ux/grid.RowActions.css"/>
   <link rel="stylesheet" type="text/css" href="https://urbanmap.lescommunes.be/app/css/main.css"/> 
</div>

<div metal:define-macro="urbanMapScriptBase" tal:define="pylonsHost context/portal_url/portal_urban/getPylonsHost">
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/lib/ext/Ext/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/lib/ext/Ext/ext-all.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/lib/openlayers/SingleFile.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/lib/geoext/script/GeoExt.js"></script>
    
        <!-- The script below will load the configuration of the application -->
    <script type="text/javascript" tal:attributes="src string:http://${pylonsHost}/config/index"></script>
    <!-- The script below will load the capabilities of the print service
         and save them into the global printCapabilities variable. Instead
         of this, the PrintProvider can be configured with a url and take
         care of fetching the capabilities. --> 
    <script type="text/javascript" tal:attributes="src string:http://${pylonsHost}/print/info.json?var=printCapabilities"></script>
    
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/ClickControl.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/lib/ext/Ext/ux/grid.RowActions.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.PrintForm.js"></script> 
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.ParcelleGrid.js"></script>     
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.SearchForm.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.SearchForm.Proprietaire.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.SearchForm.Parcelle.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.ParamForm.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/GEOB_util.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/GEOB_ows.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/GEOB_managelayers.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/GEOB_FeatureDataModel.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/GEOB_resultspanel.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/GEOB_getfeatureinfo.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.MapPanel.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.WMSLegend.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.TreePanel.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.WMSCapabilitiesWindow.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.UrbanLayerNode.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.WMCReader.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/UrbanMap.LayerStore.js"></script>      
</div>

<div metal:define-macro="urbanMapScript" tal:define="pylonsHost context/portal_url/portal_urban/getPylonsHost">
	<script tal:content="string:var NISNum='${context/portal_url/portal_urban/getNISNum}';var urbanCapakeyArray=${view/getListCapaKey};var proxyUrl='${context/portal_url}/portal_urban/getProxy?url=';var urbanMapWMCUrl='${context/absolute_url}/wmc';">    
	</script>        
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/urban-layout.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/urban-map.js"></script>   
</div>

<div metal:define-macro="urbanFullMapScript" tal:define="pylonsHost context/portal_url/portal_urban/getPylonsHost">
	<script tal:content="string:var NISNum='${context/portal_url/portal_urban/getNISNum}';var urbanCapakeyArray=${view/getListCapaKey};var proxyUrl='${context/portal_url}/portal_urban/getProxy?url=';var urbanMapWMCUrl='${context/absolute_url}/wmc';">    
	</script>        
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/main-layout.js"></script>
    <script type="text/javascript" src="https://urbanmap.lescommunes.be/app/lib/App/main-map.js"></script>   
</div>
