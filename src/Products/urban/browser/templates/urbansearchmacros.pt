<div metal:define-macro="searchbystreetMacro" i18n:domain="urban">
 <input name=search_by type=hidden 
        tal:attributes="value python:'street'" 
        tal:define="last_selected_street python:search_argument in request.get('search_argument', []) or ''"/>
 <select name=search_argument tal:define="streets view/AvailableStreets">
     <option>Choose a street</option>
     <option tal:repeat="street streets" tal:content="python: street[1]" 
 tal:attributes="value python: street[0]; selected python: street[0] in request.get('search_argument', []) or ''">
 street
     </option>
 </select>
</div>

<div metal:define-macro="searchbyapplicantMacro" i18n:domain="urban" 
     tal:define="first_search python:'applicant' not in request.get('search_by', [])">
 <input name=search_by type=hidden 
        tal:attributes="value python:'applicant'" 
        tal:define="last_selected_street python:search_argument in request.get('search_argument', []) or ''"/>
 <table class="listing">
  <thead>
   <tr>
    <th>
     <strong i18n:translate="urban_label_applicants">Demandeur</strong>
     <p align="left" class="discreet" i18n:translate="urban_label_searchbyapplicant_descr">
        Enter the name, the surname and/or the national register number.  You can use '*' to define if you search on a partial word
     </p>
    </th>
   </tr>
  </thead>
  <tbody>
   <tr align=center>
    <td>
      <input size="50" type="text" name="search_argument">
    </td>
   </tr>
  </tbody>
 </table>
 
</div>

<div metal:define-macro="searchbyparcelMacro" i18n:domain="urban">
</div>
