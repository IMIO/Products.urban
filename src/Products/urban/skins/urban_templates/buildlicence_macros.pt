<div metal:define-macro="buildLicenceDescriptionMacro" i18n:domain="urban">
 <table cellspacing=0 cellpadding=0 width=100%>
 <tr>
  <td valign="top" width=49%>
   <fieldset><b><legend i18n:translate="applicants">Applicant(s)</legend></b>
    <div metal:use-macro="here/urban_macros/macros/urbanApplicantsMacro" />
   </fieldset>
  </td>
  <td width="1%"></td>
  <td valign="top" width=50%>
   <fieldset><strong><legend i18n:translate="urban_label_keydates">Key dates</legend></strong>
    <table class="no-style-table" cellspacing=0 cellpadding=0 width=100%>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_receiptDate">Receipt date</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><tal:content content="python: 1" /></td>
     </tr>
    </table>
   </fieldset>
  </td>
  </tr>
 <tr>
  <td valign="top" width=50%>
   <fieldset><b><legend i18n:translate="legend_details">Details</legend></b>
    <table class="no-style-table" cellspacing=0 cellpadding=0 width=100%>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_licenceSubject">Licence subject</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('licenceSubject', mode='view')" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_description">Description</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('description', mode='view')" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_reference">Reference</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('reference', mode='view')" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_referenceDGATLP">DGATLP reference</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('referenceDGATLP', mode='view')" /><span tal:condition="not: python: context.referenceDGATLP" class="discreet" i18n:translate="content_none">None</span></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_foldermanagers">Treating agent</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><div metal:use-macro="here/urban_macros/macros/urbanFolderManagerMacro" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_folderCategory">Folder category</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('folderCategory', mode='view')" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_workType">Work type</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('workType', mode='view')" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_missingParts">Missing parts</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('missingParts', mode='view')" /></td>
     </tr>
     <tr tal:condition="python: context.attributeIsUsed('missingPartsDetails') and context.getMissingPartsDetails()">
      <td valign="top"><b><span i18n:translate="urban_label_missingPartsDetails">Missing parts details</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><tal:block replace="structure context/getMissingPartsDetails" /><span tal:condition="not: context/getMissingPartsDetails" class="discreet" i18n:translate="content_none">None</span></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_annoncedDelay">Deadline delay</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('annoncedDelay', mode='view')" /></td>
     </tr>
     <tr tal:condition="python: context.attributeIsUsed('annoncedDelayDetails')">
      <td valign="top"><b><span i18n:translate="urban_label_annoncedDelayDetails">Deadline delay details</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><tal:block replace="structure context/getAnnoncedDelayDetails" /><span tal:condition="not: context/getAnnoncedDelayDetails" class="discreet" i18n:translate="content_none">None</span></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_impactStudy">Impact study</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('impactStudy', mode='view')" /></td>
     </tr>
     <tr>
      <td valign="top"><b><span i18n:translate="urban_label_usage">Usage</span> :</b></td>
      <td width="2%"></td>
      <td valign="top"><metal:myfield use-macro="python:here.widget('usage', mode='view')" /></td>
     </tr>
    </table>
   </fieldset>
  </td>
  <td width="1%"></td>
  <td valign="top" width=49%>
   <fieldset><strong><legend i18n:translate="urban_label_workLocations">Work locations</legend></strong>
      <div><metal:myfield use-macro="python:here.widget('workLocations', mode='view')" /></div>
   </fieldset>
   <fieldset><b><legend i18n:translate="urban_label_architects">Architect(s)</legend></b>
    <div metal:use-macro="here/urban_macros/macros/urbanArchitectsMacro" />
   </fieldset>
   <fieldset><strong><legend i18n:translate="concerned_parcels">Concerned parcel(s)</legend></strong>
    <div metal:use-macro="here/urban_macros/macros/urbanParcelsMacro" />
   </fieldset>
  </td>
 </tr>
 </table>
</div>

<div metal:define-macro="buildLicenceRoadMacro" i18n:domain="urban">
<table cellspacing=0 cellpadding=0 width=100%>
 <tr tal:condition="python: context.attributeIsUsed('roadType')">
  <td valign="top" width="200"><b><span i18n:translate="urban_label_roadType">Road type</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('roadType', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('roadCoating')">
  <td valign="top"><b><span i18n:translate="urban_label_roadCoating">Road coating</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('roadCoating', mode='view')" /><span tal:condition="not: context/roadCoating" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('roadEquipments')">
  <td valign="top"><b><span i18n:translate="urban_label_roadEquipments">Road equipments</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('roadEquipments', mode='view')" /><span tal:condition="not: context/getRoadEquipments" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr>
  <td valign="top"><b><span i18n:translate="urban_label_pash">PASH</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('pash', mode='view')" /><span tal:condition="not: context/getPash" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('pashDetails')">
  <td valign="top"><b><span i18n:translate="urban_label_pashDetails">PASH details</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('pashDetails', mode='view')" /><span tal:condition="not: context/getPash" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('catchmentArea')">
  <td valign="top"><b><span i18n:translate="urban_label_catchmentArea">Catchment area</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('catchmentArea', mode='view')" /><span tal:condition="not: context/getPash " class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('floodingLevel')">
  <td valign="top"><b><span i18n:translate="urban_label_floodingLevel">Flooding level</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('floodingLevel', mode='view')" /><span tal:condition="not: context/getFloodingLevel" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('dgrneUnderground')">
  <td valign="top"><b><span i18n:translate="urban_label_dgrneUnderground">DGRNE Underground (location)</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('dgrneUnderground', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('equipmentAndRoadRequirements')">
  <td valign="top"><b><span i18n:translate="urban_label_equipmentAndRoadRequirements">Equipment and road requirements</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('equipmentAndRoadRequirements', mode='view')" /><span tal:condition="not: context/getEquipmentAndRoadRequirements " class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('technicalRemarks')">
  <td valign="top"><b><span i18n:translate="urban_label_technicalRemarks">Technical remarks</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('technicalRemarks', mode='view')" /><span tal:condition="not: context/getTechnicalRemarks " class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr>
  <td valign="top"><b><span i18n:translate="urban_label_implantation">Implantation</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('implantation', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('roadAdaptation')">
  <td valign="top"><b><span i18n:translate="urban_label_roadAdaptation">Road adaptation</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('roadAdaptation', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('solicitRoadOpinionsTo')">
  <td valign="top"><b><span i18n:translate="urban_label_solicitRoadOpinionsTo">Solicit road opinions to</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('solicitRoadOpinionsTo', mode='view')" /><span tal:condition="not: context/getSolicitRoadOpinionsTo" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('roadTechnicalAdvice')">
  <td valign="top"><b><span i18n:translate="urban_label_roadTechnicalAdvice">Road technical advice</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('roadTechnicalAdvice', mode='view')" /><span tal:condition="not: context/getRoadTechnicalAdvice" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
</table>
</div>

<div metal:define-macro="buildLicenceLocationMacro" i18n:domain="urban">
<table class="no-style-table" cellspacing=0 cellpadding=0 width=100%>
 <tr>
  <td valign="top"><b><span i18n:translate="urban_label_folderZone">Folder zone</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><metal:myfield use-macro="python:here.widget('folderZone', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('folderZoneDetails')">
  <td valign="top"><b><span i18n:translate="urban_label_folderZoneDetails">Folder zone details</span> :</b></td>
  <td width="2%"></td>
  <td valign="top"><tal:block replace="structure context/getFolderZoneDetails" /><span tal:condition="not: context/getFolderZoneDetails" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr>
  <td colspan=2 valign="top">
   <b><span i18n:translate="urban_label_isInSubdivision">In subdivision</span>?</b>
   <metal:myfield use-macro="python:here.widget('isInSubdivision', mode='view')" />
   <tal:isInSubdivision condition="python: context.isInSubdivision">
    <metal:myfield use-macro="python:here.widget('parcellings', mode='view')" />
    <tal:block condition="python: context.attributeIsUsed('subdivisionDetails')" replace="structure context/getSubdivisionDetails" />
   </tal:isInSubdivision>
   </td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('isInPCA')">
   <td colspan=2 valign="top">
    <b><span i18n:translate="urban_label_isInPCA">In Municpal Development Plan</span>?</b>
    <metal:myfield use-macro="python:here.widget('isInPCA', mode='view')" />
    <tal:isInPCA condition="python: context.attributeIsUsed('pca') and context.getIsInPCA()">
     <metal:myfield use-macro="python:here.widget('pca', mode='view')" />
    </tal:isInPCA>
   </td>
  </tr>
  <tr>
   <td valign="top"><b><span i18n:translate="urban_label_protectedBuilding">Protected building</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('protectedBuilding', mode='view')" /><span tal:condition="not: context/getProtectedBuilding" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('protectedBuildingDetails')">
   <td valign="top"><b><span i18n:translate="urban_label_protectedBuildingDetails">Protected building details</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><tal:block replace="structure context/getProtectedBuildingDetails" /><span tal:condition="not: context/getProtectedBuildingDetails" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('SSC')">
   <td valign="top"><b><span i18n:translate="urban_label_SSC">SSC</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('SSC', mode='view')" /><span tal:condition="not: python: context.SSC" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('RCU')">
   <td valign="top"><b><span i18n:translate="urban_label_RCU">RCU</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('RCU', mode='view')" /><span tal:condition="not: python: context.RCU" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('locationDgrneUnderground')">
   <td valign="top"><b><span i18n:translate="urban_label_locationDgrneUnderground">DGRNE Underground</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('locationDgrneUnderground', mode='view')" /></td>
  </tr>
  <tr>
   <td valign="top"><b><span i18n:translate="urban_label_solicitLocationOpinionsTo">Solicit location opinions to</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('solicitLocationOpinionsTo', mode='view')" /><span tal:condition="not: context/getSolicitLocationOpinionsTo" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('locationTechnicalAdvice')">
   <td valign="top"><b><span i18n:translate="urban_label_locationTechnicalAdvice">Location technical advice</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('locationTechnicalAdvice', mode='view')" /><span tal:condition="not: context/getLocationTechnicalAdvice" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('locationTechnicalConditions')">
   <td valign="top"><b><span i18n:translate="urban_label_locationTechnicalConditions">Location technical conditions</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('locationTechnicalConditions', mode='view')" /><span tal:condition="not: context/getLocationTechnicalConditions" class="discreet" i18n:translate="content_none">None</span></td>
  </tr>
  <tr tal:condition="python: context.attributeIsUsed('areParcelsVerified')">
   <td valign="top"><b><span i18n:translate="urban_label_areParcelsVerified">Are parcels verified?</span> :</b></td>
   <td width="2%"></td>
   <td valign="top"><metal:myfield use-macro="python:here.widget('areParcelsVerified', mode='view')" /></td>
  </tr>
 </table>
 <fieldset tal:condition="useTabbing"><strong><legend i18n:translate="concerned_parcels">Concerned parcel(s)</legend></strong>
  <div metal:use-macro="here/urban_macros/macros/urbanParcelsMacro" />
 </fieldset>
</div>

<div metal:define-macro="buildLicencePEBMacro" i18n:domain="urban">
 <table class="no-style-table" cellspacing=0 cellpadding=0 width=100%>
 <tr>
  <td width="49%" valign="top"><b><span i18n:translate="urban_label_pebType">PEB type</span> :</b></td>
  <td width="2%"></td>
  <td width="49%" valign="top"><metal:myfield use-macro="python:here.widget('pebType', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('pebDetails')">
  <td width="49%" valign="top"><b><span i18n:translate="urban_label_pebDetails">PEB details</span> :</b></td>
  <td width="2%"></td>
  <td width="49%" valign="top"><tal:block replace="structure context/getPebDetails" /><span tal:condition="not: context/getPebDetails" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 <tr>
  <td width="49%" valign="top"><b><span i18n:translate="urban_label_pebStudy">PEB study</span> :</b></td>
  <td width="2%"></td>
  <td width="49%" valign="top"><metal:myfield use-macro="python:here.widget('pebStudy', mode='view')" /></td>
 </tr>
 <tr tal:condition="python: context.attributeIsUsed('pebTechnicalAdvice')">
  <td width="49%" valign="top"><b><span i18n:translate="urban_label_pebTechnicalAdvice">PEB technical advice</span> :</b></td>
  <td width="2%"></td>
  <td width="49%" valign="top"><metal:myfield use-macro="python:here.widget('pebTechnicalAdvice', mode='view')" /><span tal:condition="not: context/getPebTechnicalAdvice" class="discreet" i18n:translate="content_none">None</span></td>
 </tr>
 </table>
</div>